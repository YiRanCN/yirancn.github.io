"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1293],{15680:(e,n,l)=>{l.d(n,{xA:()=>o,yg:()=>m});var a=l(96540);function t(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function r(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),l.push.apply(l,a)}return l}function s(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?r(Object(l),!0).forEach((function(n){t(e,n,l[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))}))}return e}function p(e,n){if(null==e)return{};var l,a,t=function(e,n){if(null==e)return{};var l,a,t={},r=Object.keys(e);for(a=0;a<r.length;a++)l=r[a],n.indexOf(l)>=0||(t[l]=e[l]);return t}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)l=r[a],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(t[l]=e[l])}return t}var i=a.createContext({}),c=function(e){var n=a.useContext(i),l=n;return e&&(l="function"==typeof e?e(n):s(s({},n),e)),l},o=function(e){var n=c(e.components);return a.createElement(i.Provider,{value:n},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var l=e.components,t=e.mdxType,r=e.originalType,i=e.parentName,o=p(e,["components","mdxType","originalType","parentName"]),g=c(l),d=t,m=g["".concat(i,".").concat(d)]||g[d]||u[d]||r;return l?a.createElement(m,s(s({ref:n},o),{},{components:l})):a.createElement(m,s({ref:n},o))}));function m(e,n){var l=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var r=l.length,s=new Array(r);s[0]=d;var p={};for(var i in n)hasOwnProperty.call(n,i)&&(p[i]=n[i]);p.originalType=e,p[g]="string"==typeof e?e:t,s[1]=p;for(var c=2;c<r;c++)s[c]=l[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,l)}d.displayName="MDXCreateElement"},81847:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>p,toc:()=>c});var a=l(58168),t=(l(96540),l(15680));const r={},s=void 0,p={unversionedId:"study/devops/Linux\u8fd0\u7ef4-\u5e38\u7528",id:"study/devops/Linux\u8fd0\u7ef4-\u5e38\u7528",title:"Linux\u8fd0\u7ef4-\u5e38\u7528",description:"\u5185\u6838/\u53d1\u884c\u7248",source:"@site/docs/study/devops/Linux\u8fd0\u7ef4-\u5e38\u7528.md",sourceDirName:"study/devops",slug:"/study/devops/Linux\u8fd0\u7ef4-\u5e38\u7528",permalink:"/docs/study/devops/Linux\u8fd0\u7ef4-\u5e38\u7528",draft:!1,tags:[],version:"current",lastUpdatedAt:1738928930,formattedLastUpdatedAt:"2025\u5e742\u67087\u65e5",frontMatter:{},sidebar:"studySidebar",previous:{title:"Linux\u8fd0\u7ef4-systemmd",permalink:"/docs/study/devops/Linux\u8fd0\u7ef4-systemmd"},next:{title:"Linux\u8fd0\u7ef4-\u76d1\u63a7\u6570\u636e",permalink:"/docs/study/devops/Linux\u8fd0\u7ef4-\u76d1\u63a7\u6570\u636e"}},i={},c=[{value:"\u5185\u6838/\u53d1\u884c\u7248",id:"\u5185\u6838\u53d1\u884c\u7248",level:3},{value:"\u5220\u9664\u591a\u4f59\u7684\u5907\u4efd",id:"\u5220\u9664\u591a\u4f59\u7684\u5907\u4efd",level:3},{value:"\u6587\u4ef6/\u76ee\u5f55\u5927\u5c0f\u67e5\u770b",id:"\u6587\u4ef6\u76ee\u5f55\u5927\u5c0f\u67e5\u770b",level:3},{value:"\u7f51\u7edc\u5e26\u5bbd\u95ee\u9898",id:"\u7f51\u7edc\u5e26\u5bbd\u95ee\u9898",level:3},{value:"\u5b9a\u65f6\u4efb\u52a1",id:"\u5b9a\u65f6\u4efb\u52a1",level:3},{value:"\u9632\u706b\u5899",id:"\u9632\u706b\u5899",level:3},{value:"\u540e\u53f0\u8fd0\u884c",id:"\u540e\u53f0\u8fd0\u884c",level:3},{value:"zip/tar \u6587\u4ef6",id:"ziptar-\u6587\u4ef6",level:3},{value:"centos \u5b57\u7b26\u96c6\u95ee\u9898",id:"centos-\u5b57\u7b26\u96c6\u95ee\u9898",level:3},{value:"\u5b9d\u5854\u76f8\u5173",id:"\u5b9d\u5854\u76f8\u5173",level:3},{value:"\u767b\u5f55\u7528\u6237",id:"\u767b\u5f55\u7528\u6237",level:3},{value:"\u5e38\u7528\u7684 ls \u547d\u4ee4",id:"\u5e38\u7528\u7684-ls-\u547d\u4ee4",level:3},{value:"CPU",id:"cpu",level:3},{value:"apt-get",id:"apt-get",level:3},{value:"\u7cfb\u7edf\u76d8\u7b26",id:"\u7cfb\u7edf\u76d8\u7b26",level:3},{value:"\u5185\u5b58",id:"\u5185\u5b58",level:3},{value:"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c",id:"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c",level:3},{value:"\u7aef\u53e3/\u8fde\u63a5",id:"\u7aef\u53e3\u8fde\u63a5",level:3},{value:"vi/vim \u4e2d\u6587\u4e71\u7801",id:"vivim-\u4e2d\u6587\u4e71\u7801",level:3},{value:"htop/top",id:"htoptop",level:3},{value:"grep",id:"grep",level:3},{value:"pstree",id:"pstree",level:3},{value:"\u521b\u5efa\u5927\u6587\u4ef6",id:"\u521b\u5efa\u5927\u6587\u4ef6",level:3},{value:"ulimit",id:"ulimit",level:3},{value:"ipcs \u8fdb\u7a0b\u901a\u4fe1\u3010\u5171\u4eab\u5185\u5b58\u3001\u6d88\u606f\u961f\u5217\u3001\u4fe1\u53f7\u91cf\u3011",id:"ipcs-\u8fdb\u7a0b\u901a\u4fe1\u5171\u4eab\u5185\u5b58\u6d88\u606f\u961f\u5217\u4fe1\u53f7\u91cf",level:3},{value:"DNS \u57df\u540d\u89e3\u6790\u95ee\u9898",id:"dns-\u57df\u540d\u89e3\u6790\u95ee\u9898",level:3},{value:"\u65f6\u95f4\u540c\u6b65",id:"\u65f6\u95f4\u540c\u6b65",level:3},{value:"\u78c1\u76d8\u5360\u7528 \u5220\u9664\u6587\u4ef6\u4f46\u672a\u91ca\u653e\u7a7a\u95f4",id:"\u78c1\u76d8\u5360\u7528-\u5220\u9664\u6587\u4ef6\u4f46\u672a\u91ca\u653e\u7a7a\u95f4",level:3},{value:"\u5982\u4f55\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7",id:"\u5982\u4f55\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7",level:3},{value:"\u5feb\u901f\u538b\u7f29 \u591a\u7ebf\u7a0b\u538b\u7f29",id:"\u5feb\u901f\u538b\u7f29-\u591a\u7ebf\u7a0b\u538b\u7f29",level:3},{value:"shell\u89e3\u6790json",id:"shell\u89e3\u6790json",level:3},{value:"swap\u4ea4\u6362\u5206\u533a",id:"swap\u4ea4\u6362\u5206\u533a",level:3},{value:"history\u8bb0\u5f55",id:"history\u8bb0\u5f55",level:3},{value:"kill\u597d\u591a\u8fdb\u7a0b",id:"kill\u597d\u591a\u8fdb\u7a0b",level:3}],o={toc:c},g="wrapper";function u(e){let{components:n,...l}=e;return(0,t.yg)(g,(0,a.A)({},o,l,{components:n,mdxType:"MDXLayout"}),(0,t.yg)("h3",{id:"\u5185\u6838\u53d1\u884c\u7248"},"\u5185\u6838/\u53d1\u884c\u7248"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"# \u5185\u6838 CPU\u67b6\u6784\nuname -a\n# \u53d1\u884c\u7248\nlsb_release -a\n")),(0,t.yg)("h3",{id:"\u5220\u9664\u591a\u4f59\u7684\u5907\u4efd"},"\u5220\u9664\u591a\u4f59\u7684\u5907\u4efd"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"# \u5220\u966490\u4e4b\u524d\u7684\u5907\u4efd\u6587\u4ef6\nfind /root/sh/bak/*.gz -mtime +90 -type f -exec rm -f {} \\;\n# \u5220\u966460\u4e4b\u524d\u7684\u5907\u4efd\u6587\u4ef6\nfind /root/sh/bak/*.gz -mtime +60 -type f -exec rm -f {} \\;\n# \u5220\u966410\u4e4b\u524d\u7684\u5907\u4efd\u6587\u4ef6\nfind /mnt/docker/tomcat/logs/*.log -mtime +10 -type f -exec rm -f {} \\;\n")),(0,t.yg)("h3",{id:"\u6587\u4ef6\u76ee\u5f55\u5927\u5c0f\u67e5\u770b"},"\u6587\u4ef6/\u76ee\u5f55\u5927\u5c0f\u67e5\u770b"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#\u67e5\u770b\u5f53\u524d\u76ee\u5f55\u603b\u5171\u5360\u7684\u5bb9\u91cf\u3002\u800c\u4e0d\u5355\u72ec\u5217\u51fa\u5404\u5b50\u9879\u5360\u7528\u7684\u5bb9\u91cf\ndu -sh\n#\u67e5\u770b\u5f53\u524d\u76ee\u5f55\u4e0b\u4e00\u7ea7\u5b50\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\u5360\u7528\u7684\u78c1\u76d8\u5bb9\u91cf\u3002\ndu -lh --max-depth=1\n#\u6309\u7167\u6587\u4ef6\u5927\u5c0f \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\nls -hSlr\n#\u6309\u7167\u4fee\u6539\u65f6\u95f4 \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\nls -hlt\n")),(0,t.yg)("h3",{id:"\u7f51\u7edc\u5e26\u5bbd\u95ee\u9898"},"\u7f51\u7edc\u5e26\u5bbd\u95ee\u9898"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"yum install libpcap nethogs\nnethogs -a\nlsof -i:\u88ab\u5360\u7528\u7684\u7aef\u53e3\u53f7\n")),(0,t.yg)("h3",{id:"\u5b9a\u65f6\u4efb\u52a1"},"\u5b9a\u65f6\u4efb\u52a1"),(0,t.yg)("h3",{id:"\u9632\u706b\u5899"},"\u9632\u706b\u5899"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#\u68c0\u67e5\u9632\u706b\u5899 \u5982\u679c\u9632\u706b\u5f3a\u4fee\u6539\u4e86 \u8bb0\u5f97\u91cd\u542fdocker\nsystemctl status firewalld\n#\nfirewall-cmd --list-ports\n\n#\u5f00\u542f\u9632\u706b\u5899\u7aef\u53e3\n#\nfirewall-cmd --permanent --add-port=9100/tcp && \\\nfirewall-cmd --permanent --add-port=9200/tcp && \\\nfirewall-cmd --permanent --add-port=9300/tcp && \\\nfirewall-cmd --reload\n#\nfirewall-cmd --permanent --add-port=5044-5054/tcp && \\\nfirewall-cmd --reload\n#\nfirewall-cmd --permanent --add-port=8090-8099/tcp && \\\nfirewall-cmd --reload\n\n#\u5173\u95ed\u9632\u706b\u5899\u7aef\u53e3\nfirewall-cmd --permanent --remove-port=9100/tcp && \\\nfirewall-cmd --permanent --remove-port=9200/tcp && \\\nfirewall-cmd --permanent --remove-port=9300/tcp && \\\nfirewall-cmd --reload\n")),(0,t.yg)("h3",{id:"\u540e\u53f0\u8fd0\u884c"},"\u540e\u53f0\u8fd0\u884c"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"nohup python ./analyse_init_stocks.py > /dev/null 2>&1 &\n")),(0,t.yg)("h3",{id:"ziptar-\u6587\u4ef6"},"zip/tar \u6587\u4ef6"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#\nyum install -y unzip zip\n# \u53ea\u770b\u4e0d\u89e3\u538b\ntar -tf xxx.tar.gz\n# \u89e3\u538b\u5230\u5f53\u524d\u76ee\u5f55\ntar -xzvf xxx.tar.gz\n# \u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55\ntar -xzvf xxx.tar.gz -C ./xxx/\n# \u521b\u5efa\u538b\u7f29\u6587\u4ef6\ntar -czvf ./xxx.tar.gz ./xxx\n")),(0,t.yg)("h3",{id:"centos-\u5b57\u7b26\u96c6\u95ee\u9898"},"centos \u5b57\u7b26\u96c6\u95ee\u9898"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"https://www.cnblogs.com/kcxg/p/11451120.html"},"CentOS7 \u53ca Docker \u914d\u7f6e\u4e2d\u6587\u5b57\u7b26\u96c6\u95ee\u9898"))),(0,t.yg)("h3",{id:"\u5b9d\u5854\u76f8\u5173"},"\u5b9d\u5854\u76f8\u5173"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},"\u5982\u679c\u4e0d\u77e5\u9053\u5b9d\u5854\u7684\u7ba1\u7406\u5458\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u4f46\u662f\u53ef\u4ee5\u767b\u5f55\u670d\u52a1\u5668\uff0c\u4f7f\u7528\u811a\u672c bt default \u6765\u83b7\u53d6\u7ba1\u7406\u5458\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002")),(0,t.yg)("h3",{id:"\u767b\u5f55\u7528\u6237"},"\u767b\u5f55\u7528\u6237"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#\nw\n# \nwho\n#\nwhoami\n# \u67e5\u770b\u5f53\u524d\u7528\u6237\u5206\u7ec4\nid [user]\nid \n# \u67e5\u770b\u6240\u6709\u7528\u6237\ngetent passwd\n# \u67e5\u770b\u6240\u6709\u5206\u7ec4\ngetent group\n# \u67e5\u770b\u67d0\u4e2a\u7528\u6237\u5206\u7ec4\ngroups [user]\n")),(0,t.yg)("h3",{id:"\u5e38\u7528\u7684-ls-\u547d\u4ee4"},"\u5e38\u7528\u7684 ls \u547d\u4ee4"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},'#\u5ffd\u7565\u67d0\u4e9b\u6587\u4ef6\u540d\u5c55\u793a\nll -h --ignore="*bak*"\n')),(0,t.yg)("h3",{id:"cpu"},"CPU"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},'#\u8be5\u670d\u52a1\u5668\u4e00\u5171\u6709\u51e0\u4e2a\u7269\u7406CPU\ngrep "physical id" /proc/cpuinfo | uniq | wc -l\n#\u8be5\u670d\u52a1\u5668\u4e00\u5171\u6709\u51e0\u4e2a\u903b\u8f91CPU\ngrep "processor" /proc/cpuinfo | wc -l\n#\u67e5\u770bcpu\u6838\u5fc3\u6570\ncat /proc/cpuinfo| grep "cpu cores"| uniq\n#\u67e5\u770bcpu\u8be6\u7ec6\u4fe1\u606f\nlscpu\n#\u67e5\u770bCPU\u4f4d\u6570\ngetconf LONG_BIT\n# \u5217\u51faCPU\u5360\u7528\u6700\u591a\u76845\u4e2a\u8fdb\u7a0b\nps -aux | sort -k3nr | head -5\n# P\u6309\u7167\u5185\u5b58\u5927\u5c0f\u6392\u5e8f c\u663e\u793a\u8fdb\u7a0b\u5168\u79f0\ntop\n')),(0,t.yg)("h3",{id:"apt-get"},"apt-get"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-sql"},"#\napt-get update\n#\napt-get install vim\n")),(0,t.yg)("h3",{id:"\u7cfb\u7edf\u76d8\u7b26"},"\u7cfb\u7edf\u76d8\u7b26"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#\u67e5\u770b\u7cfb\u7edf\u652f\u6301\u7684\u76d8\u7b26\uff0c\u67e5\u770b\u5206\u533a\u548c\u78c1\u76d8\nlsblk\n#\u67e5\u770b\u7a7a\u95f4\u4f7f\u7528\u60c5\u51b5\ndf -h\n#\u67e5\u770b\u786c\u76d8label\uff08\u522b\u540d\uff09\u78c1\u76d8\u6587\u4ef6\u7c7b\u578b\nblkid\n")),(0,t.yg)("h3",{id:"\u5185\u5b58"},"\u5185\u5b58"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"# \u67e5\u770b\u5185\u5b58\u5927\u5c0f\nfree -h \u3000\n# \u5185\u5b58\u5360\u7528\u6700\u591a\u76845\u4e2a\u8fdb\u7a0b\nps -aux | sort -k4nr | head -5\n# >\u6216M\u6309\u7167\u5185\u5b58\u5927\u5c0f\u6392\u5e8f c\u663e\u793a\u8fdb\u7a0b\u5168\u79f0\ntop\n")),(0,t.yg)("h3",{id:"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c"},"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#\u7ea2\u5e3d\u7cfb\u5217 centos\ncat /etc/redhat-release\n#\u67e5\u770b\u5185\u6838/\u64cd\u4f5c\u7cfb\u7edf/CPU\u4fe1\u606f\uff1a\nuname -a\n# \u67e5\u770b\u64cd\u4f5c\u7cfb\u7edf\ncat /etc/issue\ncat /etc/os-release\n")),(0,t.yg)("h3",{id:"\u7aef\u53e3\u8fde\u63a5"},"\u7aef\u53e3/\u8fde\u63a5"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#\u67e5\u770b\u6240\u6709\u76d1\u542c\u7684\u7aef\u53e3\nnetstat -lntp\n#\u67e5\u770b\u5df2\u7ecf\u5efa\u7acb\u7684\u94fe\u63a5\nnetstat -antp\n#\nyum list |grep telnet\nyum -y install telnet.x86_64\ntelnet 172.19.74.146 9200\n# \u6839\u636e\u76d1\u542c\u7aef\u53e3\u67e5\u627e\u8fdb\u7a0b\uff0c\u6839\u636e\u8fdb\u7a0b\u53f7\u67e5\u627e\u8fdb\u7a0b\u547d\u4ee4\nnetstat -tulnp | grep ':\u7aef\u53e3\u53f7'\nss -tulnp | grep ':\u7aef\u53e3\u53f7'\nps -f -p 99382|cat\n# \u6839\u636eIP\u6392\u5e8f\nnetstat -an | awk '{print $5}' | awk -F ':' '{print $1}' | grep -v '^[^0-9]' | sort | uniq -c | sort -nr | head -n 10\n")),(0,t.yg)("h3",{id:"vivim-\u4e2d\u6587\u4e71\u7801"},"vi/vim \u4e2d\u6587\u4e71\u7801"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#\nvi /etc/vimrc\n#\u5728\u6587\u4ef6\u5934\u589e\u52a0\u5982\u4e0b\u5185\u5bb9\nset fileencodings=utf-8,gb2312,gbk,gb18030\nset termencoding=utf-8\nset fileformats=unix\nset encoding=prc\n")),(0,t.yg)("h3",{id:"htoptop"},"htop/top"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#\u652f\u6301\u9f20\u6807 \u652f\u6301\u5de6\u53f3\u65b9\u5411\u952e\nhtop\n#\nH \u53ea\u5c55\u793a\u8fdb\u7a0b/\u663e\u793a\u7ebf\u7a0b\nh, ? F1\u67e5\u770bhtop\u4f7f\u7528\u8bf4\u660e\nS F2 htop \u8bbe\u5b9a\n/ F3 \u641c\u7d22\u8fdb\u7a0b\n\\ F4 \u589e\u91cf\u8fdb\u7a0b\u8fc7\u6ee4\u5668\nt F5 \u663e\u793a\u6811\u5f62\u7ed3\u6784\n<, > F6 \u9009\u62e9\u6392\u5e8f\u65b9\u5f0f\n[ F7 \u53ef\u51cf\u5c11nice\u503c\u53ef\u4ee5\u63d0\u9ad8\u5bf9\u5e94\u8fdb\u7a0b\u7684\u4f18\u5148\u7ea7\n] F8 \u53ef\u589e\u52a0nice\u503c\uff0c\u964d\u4f4e\u5bf9\u5e94\u8fdb\u7a0b\u7684\u4f18\u5148\u7ea7\nk F9 \u53ef\u5bf9\u8fdb\u7a0b\u4f20\u9012\u4fe1\u53f7\nq F10 \u7ed3\u675fhtop\nu \u53ea\u663e\u793a\u4e00\u4e2a\u7ed9\u5b9a\u7684\u7528\u6237\u7684\u8fc7\u7a0b\nU \u53d6\u6d88\u6807\u8bb0\u6240\u6709\u7684\u8fdb\u7a0b\nH \u663e\u793a\u6216\u9690\u85cf\u7528\u6237\u7ebf\u7a0b\nK \u663e\u793a\u6216\u9690\u85cf\u5185\u6838\u7ebf\u7a0b\nF \u8ddf\u8e2a\u8fdb\u7a0b\nP \u6309CPU \u4f7f\u7528\u6392\u5e8f\nM \u6309\u5185\u5b58\u4f7f\u7528\u6392\u5e8f\nT \u6309Time+ \u4f7f\u7528\u6392\u5e8f\nl \u663e\u793a\u8fdb\u7a0b\u6253\u5f00\u7684\u6587\u4ef6\nI \u5012\u8f6c\u6392\u5e8f\u987a\u5e8f\ns \u9009\u62e9\u67d0\u8fdb\u7a0b\uff0c\u6309s:\u7528strace\u8ffd\u8e2a\u8fdb\u7a0b\u7684\u7cfb\u7edf\u8c03\u7528\n")),(0,t.yg)("h3",{id:"grep"},"grep"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#\nless user-func-flow-for-res.2022-03-11.log | grep -E '61.166.240.34' |grep get | more\n\n\n")),(0,t.yg)("h3",{id:"pstree"},"pstree"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#pstree \u547d\u4ee4\u662f\u4ee5\u6811\u5f62\u7ed3\u6784\u663e\u793a\u7a0b\u5e8f\u548c\u8fdb\u7a0b\u4e4b\u95f4\u7684\u5173\u7cfb\nman pstree\n#\u5c55\u793a\u8fdb\u7a0b\u547d\u4ee4\u884c\npstree -a\n")),(0,t.yg)("h3",{id:"\u521b\u5efa\u5927\u6587\u4ef6"},"\u521b\u5efa\u5927\u6587\u4ef6"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"fallocate -l 1G largefile\ntruncate -s 1G largefile\n")),(0,t.yg)("h3",{id:"ulimit"},"ulimit"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},'ulimit -a\nulimit -n\nulimit -u\n##############################################################################################\n#\necho "* soft nproc 65535"  >> /etc/security/limits.conf\necho "* hard nproc 65535"  >> /etc/security/limits.conf\necho "* hard nofile 65535"  >> /etc/security/limits.conf\necho "* soft nofile 65535"  >> /etc/security/limits.conf\n# \u5982\u679c\u6709\u5c31\u4fee\u6539\nvi /etc/security/limits.d/20-nproc.conf\n# *          soft    nproc     65535\n# \u7cfb\u7edf\u53ca\u4fee\u6539\necho "fs.file-max=6553500" >> /etc/sysctl.conf\n# \u6539\u5b8c\u4e4b\u540e \u91cd\u65b0\u6253\u5f00shell\uff08\u91cd\u65b0\u767b\u5f55\uff09\nulimit -a\n# \u5728\u9e92\u9e9fV10\u5b58\u5728\u4fee\u6539\u540e\u4e0d\u751f\u6548\u7684\u95ee\u9898\n# \u539f\u56e0\u662fsshd\u6ca1\u6709\u5f00\u542fPAM\uff0c\u4fee\u6539\u53c2\u6570UsePAM\u4e3ayes\u5373\u53ef\n##############################################################################################\n\n')),(0,t.yg)("h3",{id:"ipcs-\u8fdb\u7a0b\u901a\u4fe1\u5171\u4eab\u5185\u5b58\u6d88\u606f\u961f\u5217\u4fe1\u53f7\u91cf"},"ipcs \u8fdb\u7a0b\u901a\u4fe1\u3010\u5171\u4eab\u5185\u5b58\u3001\u6d88\u606f\u961f\u5217\u3001\u4fe1\u53f7\u91cf\u3011"),(0,t.yg)("p",null,"ipcs\u547d\u4ee4\ue6ea\u662f\u4e00\u4e2a\u7528\u4e8e\u663e\u793a\u7cfb\u7edf\u4e2d\u8fdb\u7a0b\u95f4\u901a\u4fe1(IPC\ue6ea)\u8bbe\u65bd\u72b6\u6001\u7684\u547d\u4ee4\u884c\u5de5\u5177\u3002"),(0,t.yg)("p",null,"ipcs\u547d\u4ee4\u4e3b\u8981\u663e\u793a\u6d88\u606f\u961f\u961f\u5217\u3001\u5171\u4eab\u5185\u5b58\u548c\u4fe1\u53f7\u91cf\u7684\u4fe1\u606f\u3002\u8fd9\u4e9bIPC\u8bbe\u65bd\u662f\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7ed9\u8fdb\u7a0b\u95f4\u8fdb\u884c\u6570\u636e\u4ea4\u6362\u7684\u673a\u5236\u3002\u5728\u5904\u7406\u591a\u7ebf\u7a0b\u6216\u8005\u591a\u8fdb\u7a0b\u95ee\u9898\u65f6\uff0c\u5b83\u80fd\u591f\u63d0\u4f9b\u5927\u91cf\u6709\u4ef7\u503c\u7684\u4fe1\u606f\u3002"),(0,t.yg)("p",null,"\u6d88\u606f\u961f\u5217\uff08Message Queues\uff09"),(0,t.yg)("p",null,"\u6d88\u606f\u961f\u5217\u662f\u4e00\u4e2a\u94fe\u8868\uff0c\u5b58\u653e\u5728\u5185\u6838\u4e2d\u5e76\u7531\u6d88\u606f\u961f\u5217\u6807\u8bc6\u7b26\u6807\u8bc6\u3002Linux\u5185\u6838\u7ef4\u62a4\u4e86\u4e00\u4e2a\u6d88\u606f\u961f\u5217\u548c\u76f8\u5173\u64cd\u4f5c\u51fd\u6570\u7684\u96c6\u5408\uff0c\u7528\u6237\u8fdb\u7a0b\u53ef\u4ee5\u8c03\u7528\u64cd\u4f5c\u51fd\u6570\u5b8c\u6210\u6d88\u606f\u53d1\u9001\u548c\u63a5\u6536\u3002"),(0,t.yg)("p",null,"\u4fe1\u53f7\u91cf\uff08Semaphores\uff09"),(0,t.yg)("p",null,"\u4fe1\u53f7\u91cf\u4e3b\u8981\u4f5c\u4e3a\u8fdb\u7a0b\u95f4\u4ee5\u53ca\u540c\u4e00\u8fdb\u7a0b\u4e0d\u540c\u7ebf\u7a0b\u4e4b\u95f4\u7684\u540c\u6b65\u624b\u6bb5\u3002"),(0,t.yg)("p",null,"\u5171\u4eab\u5185\u5b58\uff08Shared Memories\uff09"),(0,t.yg)("p",null,"\u8ba9\u4efb\u4f55\u9700\u8981\u7684\u8fdb\u7a0b\u90fd\u80fd\u8bbf\u95ee\u7684\u5185\u5b58\u533a\u57df\u3002\u56e0\u4e3a\u591a\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u540c\u65f6\u64cd\u4f5c\uff0c\u6240\u4ee5\u5fc5\u987b\u901a\u8fc7\u67d0\u79cd\u540c\u6b65\u64cd\u4f5c\uff0c\u5982\u4fe1\u53f7\u91cf\uff0c\u6765\u786e\u4fdd\u8fdb\u7a0b\u95f4\u4e92\u4e0d\u5e72\u6270\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"# \u663e\u793a\u6240\u6709\nipcs\n# \u53ea\u663e\u793a\u4fe1\u53f7\u91cf nsems\u4fe1\u53f7\u91cf\u96c6\u4e2d\u7684\u4fe1\u53f7\u91cf\u6570\nipcs -s\n# \u53ea\u663e\u793a\u5171\u4eab\u5185\u5b58 \u5176\u4e2dnattch=0\u8868\u793a\u6b64\u5171\u4eab\u5185\u5b58\u5360\u7528\u8fdb\u7a0b\u4e3a0\u4f46\u662f\u672a\u88ab\u56de\u6536\uff0c\u53ef\u901a\u8fc7ipcs -m [shmid]\u6765\u56de\u6536\nipcs -m\n# \u53ea\u663e\u793a\u6d88\u606f\u961f\u5217\nipcs -q\n# \u83b7\u53d6\u7cfb\u7edf\u4fe1\u53f7\u91cf\u7684\u6700\u5927\u503c\u8bbe\u7f6e\ncat /proc/sys/kernel/sem\nsysctl kernel.sem\n")),(0,t.yg)("h3",{id:"dns-\u57df\u540d\u89e3\u6790\u95ee\u9898"},"DNS \u57df\u540d\u89e3\u6790\u95ee\u9898"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"# nameserver 8.8.8.8 #\u6216\u5176\u4ed6\u57df\u540d\u670d\u52a1\u5668\ncat /etc/resolv.conf\n")),(0,t.yg)("h3",{id:"\u65f6\u95f4\u540c\u6b65"},"\u65f6\u95f4\u540c\u6b65"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"# \u5f53\u524d\u65f6\u95f4\ndate\n# \n# SWXA.sansec.cn/10.0.8.18 \u672c\u5730\u7535\u8111\u4f7f\u7528\u7684\u65f6\u95f4\u540c\u6b65\u670d\u52a1\u5668\n# \u4fdd\u6301\u4e91\u5e73\u53f0\u7684\u7b2c\u4e00\u53f0\u670d\u52a1\u5668\u548c\u4e0a\u9762\u4e00\u81f4\n# \u4fdd\u6301\u4e91\u5e73\u53f0\u7684\u5176\u4ed6\u670d\u52a1\u5668\u548c\u7b2c\u4e00\u53f0\u4fdd\u6301\u4e00\u81f4\u5373\u53ef\nntpdate time.nist.gov\nsudo ntpdate 10.0.8.18\n")),(0,t.yg)("h3",{id:"\u78c1\u76d8\u5360\u7528-\u5220\u9664\u6587\u4ef6\u4f46\u672a\u91ca\u653e\u7a7a\u95f4"},"\u78c1\u76d8\u5360\u7528 \u5220\u9664\u6587\u4ef6\u4f46\u672a\u91ca\u653e\u7a7a\u95f4"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"# \u5b9e\u9645\u7684\u78c1\u76d8\u5360\u7528\u60c5\u51b5\nsudo df -h\n# \u5b9e\u9645\u7684\u6587\u4ef6\u5927\u5c0f \u5982\u679c\u548c\u4e0a\u9762\u7684\u4e0d\u5339\u914d\uff0c\u8bf4\u660e\u6709\u5220\u9664\u6587\u4ef6\u4f46\u662f\u7a7a\u95f4\u672a\u88ab\u91ca\u653e\nsudo du -lh --max-depth=1 /\n# \u8fdb\u7a0b\u5360\u7528\u6587\u4ef6\uff0c\u4f46\u662f\u6587\u4ef6\u5df2\u88ab\u5220\u9664\uff0c\u6587\u4ef6\u6240\u5360\u78c1\u76d8\u7a7a\u95f4\u672a\u88ab\u91ca\u653e\uff1b\u91cd\u542f\u8fdb\u7a0b\u53ef\u4ee5\u91ca\u653e\uff1b\n# \u5b58\u5728\u8fd9\u79cd\u60c5\u51b5\u7684\u4f8b\u5b50\u5c31\u662f\uff0c\u542f\u52a8\u8fdb\u7a0b > \u65e5\u5fd7\u6587\u4ef6 2>&1 \u8fd9\u4e2a\u65e5\u5fd7\u6587\u4ef6\u88ab\u5220\u4e86\u4e4b\u540e\u4e0d\u80fd\u591f\u6709\u6548\u91ca\u653e\nsudo lsof | grep deleted\n")),(0,t.yg)("h3",{id:"\u5982\u4f55\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7"},"\u5982\u4f55\u67e5\u770b\u7cfb\u7edf\u65e5\u5fd7"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"# \u901a\u8fc7\u6587\u4ef6\ntail -f /var/log/syslog\ntail -f /var/log/messages\n# \u901a\u8fc7 journalctl \njournalctl -x | grep aaa\n")),(0,t.yg)("h3",{id:"\u5feb\u901f\u538b\u7f29-\u591a\u7ebf\u7a0b\u538b\u7f29"},"\u5feb\u901f\u538b\u7f29 \u591a\u7ebf\u7a0b\u538b\u7f29"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"#\ntar -cf - ./hadoop-3.3.6 | pigz -p 8 > hadoop-3.3.6.tar.gz\n")),(0,t.yg)("h3",{id:"shell\u89e3\u6790json"},"shell\u89e3\u6790json"),(0,t.yg)("p",null,"\u4e0b\u8f7djq\uff0c",(0,t.yg)("a",{parentName:"p",href:"https://github.com/jqlang/jq/releases"},"https://github.com/jqlang/jq/releases")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},'vi data.json\n#\u8f93\u5165\n{\n  "name": "John",\n  "age": 30,\n  "city": "New York"\n}\n#\ncat data.json | ./jq-linux-arm64 \'.name\'\n')),(0,t.yg)("h3",{id:"swap\u4ea4\u6362\u5206\u533a"},"swap\u4ea4\u6362\u5206\u533a"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"# \u8fd9\u4e2a\u6587\u4ef6\u8bb0\u5f55\u54ea\u4e9b\u78c1\u76d8\u6216\u6587\u4ef6\u7cfb\u7edf\u7528\u4e8e\u4ea4\u6362\u5206\u533a\ncat /etc/fstab\n# \u5f00\u542f\u4ea4\u6362\u5206\u533a\nswapon -a\n# \u5173\u95ed\u4ea4\u6362\u5206\u533a\nswapoff -a\n# \u5982\u4f55\u67e5\u770b\u662f\u5426\u5f00\u542fswap\nfree -h\nswapon -s\ncat /proc/swaps\n")),(0,t.yg)("h3",{id:"history\u8bb0\u5f55"},"history\u8bb0\u5f55"),(0,t.yg)("p",null,"\u67d0\u4e9b\u7cfb\u7edf\u56e0\u4e3a\u5b89\u5168\u9700\u6c42\u4f1a\u5173\u95edhistory"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"# \nvim /etc/profile\n# \u7f16\u8f91\nHISTSIZE=0\nHISTFILESIZE=0\n")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://blog.csdn.net/llgde/article/details/133780294"},"csdn-ulimit\u547d\u4ee4\u8be6\u89e3\uff1a\u5982\u4f55\u8bbe\u7f6e\u548c\u67e5\u770b\u7cfb\u7edf\u8d44\u6e90\u9650\u5236"))),(0,t.yg)("h3",{id:"kill\u597d\u591a\u8fdb\u7a0b"},"kill\u597d\u591a\u8fdb\u7a0b"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-shell"},"ps -ef|grep nginx |grep -v grep|awk '{print $2}'|xargs kill -9\n")))}u.isMDXComponent=!0}}]);