"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6019],{15680:(e,n,t)=>{t.d(n,{xA:()=>c,yg:()=>d});var s=t(96540);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,s,a=function(e,n){if(null==e)return{};var t,s,a={},r=Object.keys(e);for(s=0;s<r.length;s++)t=r[s],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)t=r[s],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=s.createContext({}),u=function(e){var n=s.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=u(e.components);return s.createElement(p.Provider,{value:n},e.children)},g="mdxType",i={inlineCode:"code",wrapper:function(e){var n=e.children;return s.createElement(s.Fragment,{},n)}},m=s.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),g=u(t),m=a,d=g["".concat(p,".").concat(m)]||g[m]||i[m]||r;return t?s.createElement(d,l(l({ref:n},c),{},{components:t})):s.createElement(d,l({ref:n},c))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,l=new Array(r);l[0]=m;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o[g]="string"==typeof e?e:a,l[1]=o;for(var u=2;u<r;u++)l[u]=t[u];return s.createElement.apply(null,l)}return s.createElement.apply(null,t)}m.displayName="MDXCreateElement"},8605:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>l,default:()=>i,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var s=t(58168),a=(t(96540),t(15680));const r={},l="OpenGauss",o={unversionedId:"study/db/SQL/OpenGauss",id:"study/db/SQL/OpenGauss",title:"OpenGauss",description:"\u5b98\u7f51 https://opengauss.org/zh/",source:"@site/docs/study/db/SQL/OpenGauss.md",sourceDirName:"study/db/SQL",slug:"/study/db/SQL/OpenGauss",permalink:"/docs/study/db/SQL/OpenGauss",draft:!1,tags:[],version:"current",lastUpdatedAt:1738461448,formattedLastUpdatedAt:"2025\u5e742\u67082\u65e5",frontMatter:{},sidebar:"studySidebar",previous:{title:"MySQL",permalink:"/docs/study/db/SQL/MySQL"},next:{title:"PostgreSQL",permalink:"/docs/study/db/SQL/PostgreSQL"}},p={},u=[{value:"\u5e38\u7528\u7684\u5de5\u5177",id:"\u5e38\u7528\u7684\u5de5\u5177",level:3},{value:"\u5982\u4f55\u67e5\u770b\u7248\u672c",id:"\u5982\u4f55\u67e5\u770b\u7248\u672c",level:3},{value:"\u5982\u4f55\u67e5\u770b\u6700\u5927\u8fde\u63a5\u6570",id:"\u5982\u4f55\u67e5\u770b\u6700\u5927\u8fde\u63a5\u6570",level:3},{value:"\u5982\u4f55\u4fee\u6539\u6700\u5927\u8fde\u63a5\u6570",id:"\u5982\u4f55\u4fee\u6539\u6700\u5927\u8fde\u63a5\u6570",level:3},{value:"\u4fee\u6539\u6700\u5927\u8fde\u63a5\u6570\u62a5\u9519",id:"\u4fee\u6539\u6700\u5927\u8fde\u63a5\u6570\u62a5\u9519",level:3},{value:"rdtscp\u6307\u4ee4\u96c6\u95ee\u9898",id:"rdtscp\u6307\u4ee4\u96c6\u95ee\u9898",level:3},{value:"\u5546\u4e1a\u53d1\u884c\u7248",id:"\u5546\u4e1a\u53d1\u884c\u7248",level:3},{value:"shell\u901a\u8fc7gsql\u67e5\u8be2",id:"shell\u901a\u8fc7gsql\u67e5\u8be2",level:3},{value:"\u5904\u7406\u5185\u5b58\u4e0d\u8db3\u5f02\u5e38",id:"\u5904\u7406\u5185\u5b58\u4e0d\u8db3\u5f02\u5e38",level:3},{value:"\u6570\u636e\u5e93\u8fdb\u5165\u53ea\u8bfb\u6a21\u5f0f",id:"\u6570\u636e\u5e93\u8fdb\u5165\u53ea\u8bfb\u6a21\u5f0f",level:3}],c={toc:u},g="wrapper";function i(e){let{components:n,...t}=e;return(0,a.yg)(g,(0,s.A)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"opengauss"},"OpenGauss"),(0,a.yg)("p",null,"\u5b98\u7f51 ",(0,a.yg)("a",{parentName:"p",href:"https://opengauss.org/zh/"},"https://opengauss.org/zh/")),(0,a.yg)("p",null,"\u6587\u6863 ",(0,a.yg)("a",{parentName:"p",href:"https://docs.opengauss.org/zh/"},"https://docs.opengauss.org/zh/")),(0,a.yg)("p",null,"\u96c6\u7fa4\u65b9\u6848 ",(0,a.yg)("a",{parentName:"p",href:"https://docs.opengauss.org/zh/docs/5.0.0/docs/DatabaseAdministrationGuide/openGauss%E5%B8%B8%E8%A7%81%E4%B8%BB%E5%A4%87%E9%83%A8%E7%BD%B2%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B.html"},"https://docs.opengauss.org/zh/docs/5.0.0/docs/DatabaseAdministrationGuide/openGauss%E5%B8%B8%E8%A7%81%E4%B8%BB%E5%A4%87%E9%83%A8%E7%BD%B2%E6%96%B9%E6%A1%88%E7%AE%80%E4%BB%8B.html")),(0,a.yg)("p",null,"\u5bf9\u6807\u7684\u662fPostgreSQL"),(0,a.yg)("h3",{id:"\u5e38\u7528\u7684\u5de5\u5177"},"\u5e38\u7528\u7684\u5de5\u5177"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"gsql \u8fd9\u662f OpenGauss \u6570\u636e\u5e93\u7684\u4ea4\u4e92\u5f0f\u5ba2\u6237\u7aef\u5de5\u5177\uff0c\u7528\u4e8e\u8fde\u63a5\u6570\u636e\u5e93\u5e76\u6267\u884c SQL \u547d\u4ee4\u3002\\q\uff08\u5728 gsql \u4e2d\u4f7f\u7528\uff09\uff1a\u7528\u4e8e\u9000\u51fagsql\u4ea4\u4e92\u5f0f\u5ba2\u6237\u7aef\u3002"),(0,a.yg)("li",{parentName:"ul"},"gs_dump \u7528\u4e8e\u5907\u4efd\u6570\u636e\u5e93\u3002"),(0,a.yg)("li",{parentName:"ul"},"gs_dumpall\uff1a\u7528\u4e8e\u5907\u4efd\u6574\u4e2a\u6570\u636e\u5e93\u7cfb\u7edf\uff0c\u5305\u62ec\u6240\u6709\u6570\u636e\u5e93\u548c\u7528\u6237\u4fe1\u606f\u7b49\u3002"),(0,a.yg)("li",{parentName:"ul"},"gs_restore\uff1a\u7528\u4e8e\u6062\u590d\u6570\u636e\u5e93\u5907\u4efd\u3002"),(0,a.yg)("li",{parentName:"ul"},"gs_om\u662f OpenGauss \u6570\u636e\u5e93\u63d0\u4f9b\u7684\u4e00\u4e2a\u91cd\u8981\u7684\u8fd0\u7ef4\u7ba1\u7406\u5de5\u5177\u3002\u5b83\u4e3b\u8981\u7528\u4e8e\u6570\u636e\u5e93",(0,a.yg)("strong",{parentName:"li"},"\u96c6\u7fa4"),"\u7684\u5b89\u88c5\u3001\u542f\u52a8\u3001\u505c\u6b62\u3001\u72b6\u6001\u67e5\u770b\u4ee5\u53ca\u914d\u7f6e\u7ba1\u7406\u7b49\u64cd\u4f5c\uff0c\u5e2e\u52a9\u7ba1\u7406\u5458\u9ad8\u6548\u5730\u7ef4\u62a4 OpenGauss \u6570\u636e\u5e93\u73af\u5883\u3002",(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},"gs_om --help \u4e0d\u540c\u7248\u672c\uff0c\u53ef\u80fd\u53c2\u6570\u4e0d\u4e00\u6837\uff0c\u4f7f\u7528\u6b64\u547d\u4ee4\u5177\u4f53\u67e5\u770b"),(0,a.yg)("li",{parentName:"ul"},"gs_om -t start \u5b83\u4f1a\u6309\u7167\u9884\u5148\u914d\u7f6e\u7684\u65b9\u5f0f\u542f\u52a8\u6574\u4e2a OpenGauss \u6570\u636e\u5e93\u96c6\u7fa4\u3002\u5728\u542f\u52a8\u8fc7\u7a0b\u4e2d\uff0cgs_om\u4f1a\u68c0\u67e5\u96c6\u7fa4\u8282\u70b9\u7684\u72b6\u6001\uff0c\u4f9d\u6b21\u542f\u52a8\u5404\u4e2a\u8282\u70b9\u4e0a\u7684\u6570\u636e\u5e93\u670d\u52a1\u3002"),(0,a.yg)("li",{parentName:"ul"},"gs_om -t stop \u505c\u6b62\u96c6\u7fa4"),(0,a.yg)("li",{parentName:"ul"},"gs_om -t status \u67e5\u770b\u96c6\u7fa4\u72b6\u6001"),(0,a.yg)("li",{parentName:"ul"},"gs_om -t refreshconf \u91cd\u65b0\u52a0\u8f7d\u96c6\u7fa4\u914d\u7f6e"))),(0,a.yg)("li",{parentName:"ul"},"gs_ctl gs_ctl\u662f OpenGauss \u6570\u636e\u5e93\u4e2d\u7684\u4e00\u4e2a\u91cd\u8981\u7684\u63a7\u5236\u5de5\u5177\u3002\u5b83\u4e3b\u8981\u7528\u4e8e\u5bf9",(0,a.yg)("strong",{parentName:"li"},"\u5355\u4e2a\u6570\u636e\u5e93\u8282\u70b9"),"\u8fdb\u884c\u7ba1\u7406\u548c\u63a7\u5236\uff0c\u5305\u62ec\u542f\u52a8\u3001\u505c\u6b62\u3001\u91cd\u542f\u6570\u636e\u5e93\u5b9e\u4f8b\uff0c\u4ee5\u53ca\u68c0\u67e5\u6570\u636e\u5e93\u72b6\u6001\u3001\u6545\u969c\u6062\u590d\u7b49\u64cd\u4f5c\u3002",(0,a.yg)("ul",{parentName:"li"},(0,a.yg)("li",{parentName:"ul"},"gs_ctl --help \u4e0d\u540c\u7248\u672c\uff0c\u53ef\u80fd\u53c2\u6570\u4e0d\u4e00\u6837\uff0c\u4f7f\u7528\u6b64\u547d\u4ee4\u5177\u4f53\u67e5\u770b"),(0,a.yg)("li",{parentName:"ul"},"gs_ctl start -D DATADIR \u542f\u52a8"),(0,a.yg)("li",{parentName:"ul"},"gs_ctl stop -D DATADIR \u505c\u6b62"),(0,a.yg)("li",{parentName:"ul"},"gs_ctl restart -D DATADIR \u91cd\u542f"),(0,a.yg)("li",{parentName:"ul"},"gs_ctl status -D DATADIR \u72b6\u6001\u68c0\u67e5"),(0,a.yg)("li",{parentName:"ul"},"gs_ctl reload -D DATADIR \u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\uff0c\u800c\u65e0\u9700\u91cd\u542f"),(0,a.yg)("li",{parentName:"ul"},"gs_ctl query -D DATADIR \u67e5\u8be2\u8282\u70b9\u4fe1\u606f"),(0,a.yg)("li",{parentName:"ul"},"gs_ctl switchover -D DATADIR \u5728\u5907\u8282\u70b9\u6267\u884c\uff0c\u5907\u8282\u70b9\u4f1a\u5207\u6362\u5230\u4e3b\u8282\u70b9"),(0,a.yg)("li",{parentName:"ul"},"cat postgresql.conf|grep -v '^\\s*#'|grep -v \"^$\"  \u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u53bb\u6389\u6ce8\u91ca\u884c"))),(0,a.yg)("li",{parentName:"ul"},"\u7269\u7406\u5907\u4efd gs_basebackup"),(0,a.yg)("li",{parentName:"ul"},"\u903b\u8f91\u5907\u4efd gs_dump gs_dumpall\uff0c\u6ca1\u6709\u589e\u91cf\u5907\u4efd")),(0,a.yg)("h3",{id:"\u5982\u4f55\u67e5\u770b\u7248\u672c"},"\u5982\u4f55\u67e5\u770b\u7248\u672c"),(0,a.yg)("p",null,"\u6267\u884cSQL\uff0cselect version();"),(0,a.yg)("h3",{id:"\u5982\u4f55\u67e5\u770b\u6700\u5927\u8fde\u63a5\u6570"},"\u5982\u4f55\u67e5\u770b\u6700\u5927\u8fde\u63a5\u6570"),(0,a.yg)("p",null,"\u6267\u884cSQL\uff0cSELECT * FROM pg_settings WHERE name = 'max_connections';"),(0,a.yg)("h3",{id:"\u5982\u4f55\u4fee\u6539\u6700\u5927\u8fde\u63a5\u6570"},"\u5982\u4f55\u4fee\u6539\u6700\u5927\u8fde\u63a5\u6570"),(0,a.yg)("p",null,"\u4fee\u6539postgresql.conf\u6587\u4ef6\u7684max_connections\u53c2\u6570"),(0,a.yg)("p",null,"\u4e0d\u4e00\u5b9a\u4f1a\u6210\u529f\uff0c\u9700\u8981\u67e5\u770b\u65e5\u5fd7\u6216\u8005\u518d\u67e5\u8be2\u4e00\u904d\u770b\u770b\u6548\u679c"),(0,a.yg)("h3",{id:"\u4fee\u6539\u6700\u5927\u8fde\u63a5\u6570\u62a5\u9519"},"\u4fee\u6539\u6700\u5927\u8fde\u63a5\u6570\u62a5\u9519"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"2024-05-14 10:02:06.004 [unknown] [unknown] localhost 140450292528512 0[0:0#0]  0 [CACHE] LOG:  set data cache  size(402653184)\n2024-05-14 10:02:06.247 [unknown] [unknown] localhost 140450292528512 0[0:0#0]  0 [BACKEND] FATAL:  could not create semaphores: No space left on device\n2024-05-14 10:02:06.247 [unknown] [unknown] localhost 140450292528512 0[0:0#0]  0 [BACKEND] DETAIL:  Failed system call was semget(5432129, 17, 03600).\n2024-05-14 10:02:06.247 [unknown] [unknown] localhost 140450292528512 0[0:0#0]  0 [BACKEND] HINT:  This error does *not* mean that you have run out of disk space.  It occurs when either the system limit for the maximum number of semaphore sets (SEMMNI), or the system wide maximum number of semaphores (SEMMNS), would be exceeded.  You need to raise the respective kernel parameter.  Alternatively, reduce openGauss's consumption of semaphores by reducing its max_connections parameter.\n        The openGauss documentation contains more information about configuring your system for openGauss.\n2024-05-14 10:02:06.247 [unknown] [unknown] localhost 140450292528512 0[0:0#0]  0 [BACKEND] BACKTRACELOG:  tid[1]'s backtrace:\n        gaussdb(+0xe3a41e) [0x55c87d3c041e]\n        gaussdb(_Z9errfinishiz+0x441) [0x55c87d3b8651]\n        gaussdb(+0xbb6618) [0x55c87d13c618]\n        gaussdb(_Z17PGSemaphoreCreateP15PGSemaphoreData+0x9c) [0x55c87d13c93c]\n        gaussdb(_Z14InitProcGlobalv+0x7dd) [0x55c87e18bddd]\n        gaussdb(_Z31CreateSharedMemoryAndSemaphoresbi+0x3a5) [0x55c87e165605]\n        gaussdb(_Z14PostmasterMainiPPc+0x183f) [0x55c87d982a4f]\n        gaussdb(main+0x3f2) [0x55c87ce545f2]\n        /usr/lib64/libc.so.6(+0x2d210) [0x7fbd21d16210]\n        /usr/lib64/libc.so.6(__libc_start_main+0x7c) [0x7fbd21d162bc]\n        gaussdb(_start+0x25) [0x55c87cec57f5]\n        Use addr2line to get pretty function name and line\n\n2024-05-14 10:02:06.342 [unknown] [unknown] localhost 140450292528512 0[0:0#0]  0 [BACKEND] LOG:  FiniNuma allocIndex: 0.\n")),(0,a.yg)("p",null,"\u4e0a\u9762\u7684\u62a5\u9519\u662f\u56e0\u4e3a\u5bbf\u4e3b\u673a\u7684\u4fe1\u53f7\u91cf\u8bbe\u7f6e\u7684\u592a\u5c0f\u4e86"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"# \u5728\u5bbf\u4e3b\u673a\u6267\u884c \u67e5\u770b\u4fe1\u53f7\u91cf\u76f8\u5173\u8bbe\u7f6e\nsysctl -a|grep sem\nipcs -ls\ncat  /proc/sys/kernel/sem\n# \u7ed3\u679c\u5982\u4e0b\n------ Semaphore Limits --------\nmax number of arrays = 128\nmax semaphores per array = 250\nmax semaphores system wide = 32000\nmax ops per semop call = 32\nsemaphore max value = 32767\n")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"#\u4fee\u6539 vi /etc/sysctl.conf \u7684\u4ee5\u4e0b\u53c2\u6570\nkernel.sem = 50100 128256000 50100 2560\n#\nsysctl -p \u751f\u6548\n#\u91cd\u542f\u6570\u636e\u5e93\u5373\u53ef\n")),(0,a.yg)("h3",{id:"rdtscp\u6307\u4ee4\u96c6\u95ee\u9898"},"rdtscp\u6307\u4ee4\u96c6\u95ee\u9898"),(0,a.yg)("p",null,"OpenEluer\u786e\u4fdd\u5b89\u88c5rdtscp\u6307\u4ee4\u96c6\uff0c\u5426\u5219\u65e0\u6cd5\u5b89\u88c5OpenGauss\u6570\u636e\u5e93"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"# \u5982\u4f55\u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u662f\u5426\u6267\u884crdtscp\ncat /boot/config-$(uname -r) | grep TSC\ncat /boot/config-$(uname -r) | grep PERF_EVENT\n")),(0,a.yg)("h3",{id:"\u5546\u4e1a\u53d1\u884c\u7248"},"\u5546\u4e1a\u53d1\u884c\u7248"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://www.mogdb.io/"},"https://www.mogdb.io/"),"  ",(0,a.yg)("a",{parentName:"p",href:"https://enmotech.com/"},"https://enmotech.com/")),(0,a.yg)("p",null,"MogDB\u662f\u4e91\u548c\u6069\u58a8\u57fa\u4e8eopenGauss\u5f00\u6e90\u6570\u636e\u5e93\u8fdb\u884c\u5b8c\u5584\u589e\u5f3a\u7684\u4f01\u4e1a\u53d1\u884c\u7248\u3002\u5b83\u56f4\u7ed5\u9ad8\u6027\u80fd\u3001\u9ad8\u53ef\u7528\u3001\u5168\u5bc6\u6001\u3001\u81ea\u52a8\u5316\u8fd0\u7ef4\u3001\u591a\u6570\u636e\u5e93\u517c\u5bb9\u7b49\u4f01\u4e1a\u9700\u6c42\uff0c\u5e94\u5bf9\u4f01\u4e1a\u7528\u6237\u9700\u6c42\u65b0\u4e00\u4ee3\u6570\u636e\u5e93\u7684\u5e94\u7528\u573a\u666f\u3002\u5176\u6838\u5fc3\u4ef7\u503c\u662f\u9ad8\u5b89\u5168\u3001\u9ad8\u6027\u80fd\u3001\u9ad8\u517c\u5bb9\u3001\u6613\u8fd0\u7ef4\u548c\u5168\u5929\u5019\u7684\u4f01\u4e1a\u652f\u6301\u3002"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://www.vastdata.com.cn/"},"https://www.vastdata.com.cn/")," \u6d77\u91cf\u6570\u636e"),(0,a.yg)("p",null,"Vastbase G100 \u57fa\u4e8eopenGauss\u5185\u6838\u7684\u4f01\u4e1a\u7ea7\u5173\u7cfb\u578b\u6570\u636e\u5e93"),(0,a.yg)("h3",{id:"shell\u901a\u8fc7gsql\u67e5\u8be2"},"shell\u901a\u8fc7gsql\u67e5\u8be2"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},'# \necho -e "\\pset format unaligned\\nSHOW ALL;" > show_all.sql\n# \u901a\u8fc7\u6b64\u79cd\u65b9\u5f0f\u67e5\u8be2\u51fa\u6765\u7684\u6570\u636e\u7684\u683c\u5f0f\u5f88\u597d\u770b\u7684\ngsql -p 5432 -U sansec -W passwordxxx -f show_all.sql\n')),(0,a.yg)("h3",{id:"\u5904\u7406\u5185\u5b58\u4e0d\u8db3\u5f02\u5e38"},"\u5904\u7406\u5185\u5b58\u4e0d\u8db3\u5f02\u5e38"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://docs.opengauss.org/zh/docs/5.0.0/docs/DatabaseOMGuide/%E5%86%85%E5%AD%98%E4%B8%8D%E8%B6%B3%E9%97%AE%E9%A2%98.html"},"https://docs.opengauss.org/zh/docs/5.0.0/docs/DatabaseOMGuide/%E5%86%85%E5%AD%98%E4%B8%8D%E8%B6%B3%E9%97%AE%E9%A2%98.html")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"# \u9ed8\u8ba4\u53ef\u4ee5\u4f7f\u75285432\u7aef\u53e3\u767b\u5f55\ngsql -p 5432 -U username_xxx -W pwd_xxx -d instance_name\n# \u5982\u679c\u5185\u5b58\u4e0d\u8db3\u767b\u5f55\u4e0d\u4e86\uff0c\u53ef\u4ee5\u4f7f\u75285433\u7aef\u53e3\uff08\u7aef\u53e3+1\uff09\u767b\u5f55\ngsql -p 5433 -U username_xxx -W pwd_xxx -d instance_name\n# \u62a5\u9519\u4e86\uff0c\u6ca1\u8c03\u901a\nselect * from gs_total_memory_detail;\n# \nselect contextname, sum(totalsize)/1024/1024 sum, sum(freesize)/1024/1024, count(*) count from gs_shared_memory_detail group by contextname order by sum desc limit 10;\n#\nselect contextname, sum(totalsize)/1024/1024 sum, sum(freesize)/1024/1024, count(*) count from gs_session_memory_detail group by contextname order by sum desc limit 10;\n\n")),(0,a.yg)("h3",{id:"\u6570\u636e\u5e93\u8fdb\u5165\u53ea\u8bfb\u6a21\u5f0f"},"\u6570\u636e\u5e93\u8fdb\u5165\u53ea\u8bfb\u6a21\u5f0f"),(0,a.yg)("p",null,(0,a.yg)("a",{parentName:"p",href:"https://docs.opengauss.org/zh/docs/5.0.0/docs/DatabaseOMGuide/%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E8%BE%BE%E5%88%B0%E9%98%88%E5%80%BC-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%AA%E8%AF%BB.html"},"https://docs.opengauss.org/zh/docs/5.0.0/docs/DatabaseOMGuide/%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E8%BE%BE%E5%88%B0%E9%98%88%E5%80%BC-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%AA%E8%AF%BB.html")))}i.isMDXComponent=!0}}]);